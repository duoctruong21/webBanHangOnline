@model webBangHangOnline.Models.ApplicationUser


@using (Ajax.BeginForm("CheckOut", "ShoppingCart", new AjaxOptions
{
    HttpMethod = "POST",
    UpdateTargetId = "load_data",
    OnComplete = "OnCompleteCO",
    OnFailure = "OnFailureCO"
}, new { @id = "myFormInfoCustomer" }))
{
    @Html.AntiForgeryToken()
    if (User.Identity.Name != null && User.Identity.Name != "")
    {
        <h3>Thông tin khách hàng</h3>
        <div class="form-group">
            <label>Họ và tên khách hàng:</label>
            <input type="text" name="CustomerName" required class="form-control" autocomplete="off" value="@Model.Fullname" />
        </div>
        <div class="form-group">
            <label>Số điện thoại:</label>
            <input type="text" name="Phone" required class="form-control" onkeypress="return isNumberKey(event)" value="@Model.Phone" />
        </div>
        <div class="form-group">
            <label>Địa chỉ:</label>
            <input type="text" name="Address" required class="form-control" autocomplete="off" value="@Model.Address" />
        </div>
        <div class="form-group">
            <label>Email:</label>
            <input type="email" name="Email" required class="form-control" autocomplete="off" readonly value="@Model.Email" />
        </div>
        <div class="form-group">
            <label>Hình thức thanh toán:</label>
            <select class="form-control" name="TypePayment">
                <option value="1" selected>COD</option>
                <option value="2">Chuyển khoản</option>
            </select>
        </div>
    }
    <div class="form-group">
        @if (User.Identity.Name != null && User.Identity.Name != "")
        {
            <button type="submit" class="btn btn-block btn-success">Đặt hàng</button>
        }
        else
        {
            <a href="/account/login" class="btn btn-block btn-success">Đăng nhập để mua hàng</a>
        }
    </div>
}
<script>
    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode;
        if (charCode > 31 && (charCode < 48 || charCode > 57))
            return false;
        return true;
    }
</script>